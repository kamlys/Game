@model PagedList.IPagedList<Game.GUI.ViewModels.TableViewModel>
@using PagedList.Mvc;
@{
    Layout = null;
}

<div class="receivedMessage">
    @if (!Model.Any())
    {
        <span class="noRow">Brak wiadomości</span>
    }
    else
    {
        

        <table class="bordered centered">
            <thead>
                <tr>
                    <th>Nadawca</th>
                    <th>Temat</th>
                    <th>Data wysłania</th>
                </tr>
            </thead>

            <tbody>


                @foreach (var item in Model)
                {
                    if (item.IfRead == false)
                    {
                        <tr id="newMessage" onclick="location.href='@Url.Action("Content", "Message", new { MessageID = @item.ID })'">
                            <td>@Html.DisplayFor(modelItem=>item.Sender_Login)</td>
                            <td>@Html.DisplayFor(modelItem=>item.Theme)</td>
                            <td>@Html.DisplayFor(modelItem=>item.PostDate)</td>
                        </tr>
                    }
                    else if (item.IfRead == true)
                    {
                        <tr style="font-weight: normal" onclick="location.href='@Url.Action("Content", "Message", new { MessageID = @item.ID })'">
                            <td>@Html.DisplayFor(modelItem => item.Sender_Login)</td>
                            <td>@Html.DisplayFor(modelItem => item.Theme)</td>
                            <td>@Html.DisplayFor(modelItem => item.PostDate)</td>
                        </tr>
                    }
                }
            </tbody>
        </table>

        <div class="paginationRank">
            @Html.PagedListPager(Model, Page_No => Url.Action("_ReceivedMessage", new { Page_No }))
        </div>
    }
</div>
